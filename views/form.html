<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link href="../public/styles/style.css" rel="stylesheet">
      <title>Web Wizards</title>
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200;400;700&display=swap" rel="stylesheet">
      <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
      <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
   </head>
   <body>
      <!-- Nav Bar -->
      <header>
         <div class="header-content">
            <div class="logo">
               <img src="../public/images/Crossfire_Logo_no_bkgd.png" alt="An image of Crossfire Logo">
            </div>
            <div class="user-info">
               <p tabindex="1">Sign in here</p>
            </div>
         </div>
         <nav class="header-nav">
            <a href="index.html" class="nav-item" tabindex="2">Home</a>
            <a href="form.html" class="nav-item" tabindex="3">Form</a>
            <a href="list.html" class="nav-item" tabindex="4">Existing Forms</a>
         </nav>
         <div class="header-form">
            <!-- Buttons for toggling views -->
            <button class="header-form-item" onclick="showView('normView')">Normal</button>
            <button class="header-form-item" onclick="showView('engiView')">Engineering</button>
         </div>
      </header>
      <!-- Create Form -->
      <div class="form-container">
         <h2>Create NCR Form</h2>
         <form action="/submit-ncr" method="POST">
            <div class="view-container">
               <!-- Fields for Quality Assurance Form -->
               <div id="normView" class="view">
                  <fieldset>
                     <legend>Quality Representative</legend>
                     <!-- Identify Process Applicable -->
                     <div class="form-group">
                        <label>Identify Process Applicable:</label>
                        <input type="checkbox" id="isWorkInProgress" name="IsWorkInProgress">
                        <label for="isWorkInProgress">WIP</label>
                        <input type="checkbox" id="supplierOrInspection" name="SupplierOrReceivingInspection">
                        <label for="supplierOrInspection">Supplier or Receiving Inspection</label>
                     </div>
                     <!-- Item Description -->
                     <div class="form-group">
                        <label for="itemDescription">Item:</label>
                        <select id="itemDescription" name="itemDescription" class="js-example-basic-single" style="width: 300px;" required>
                           <optgroup label="Recent Options">
                              <option value="Bicycle">Bicycle</option>
                              <option value="Toy Robot">Toy Robot</option>
                              <option value="Electric Tow Tractor">Electric Tow Tractor</option>
                           </optgroup>
                           <optgroup label="All Options">
                              <option value="Magic Wand">Magic Wand</option>
                              <option value="Safety Helmet">Safety Helmet</option>
                              <option value="Giant Bubble Blower">Giant Bubble Blower</option>
                              <option value="Industrial Vacuum">Industrial Vacuum</option>
                              <option value="Bicycle">Bicycle</option>
                              <option value="Laser Level">Laser Level</option>
                              <option value="Glow-in-the-Dark Frisbee">Glow-in-the-Dark Frisbee</option>
                              <option value="Electric Forklift">Electric Forklift</option>
                              <option value="Chocolate Fountain">Chocolate Fountain</option>
                              <option value="Toy Robot">Toy Robot</option>
                              <option value="Electric Tow Tractor">Electric Tow Tractor</option>
                              <option value="Hydraulic Jack">Hydraulic Jack</option>
                              <option value="Portable Rainbow Maker">Portable Rainbow Maker</option>
                              <option value="Air Compressor">Air Compressor</option>
                              <option value="Holographic Projector">Holographic Projector</option>
                           </optgroup>
                        </select>
                     </div>
                     <!-- Defect Description (dynamic dropdown) -->
                     <div class="form-group">
                        <label for="defectDescription">Defect Description:</label>
                        <select id="defectDescription" name="defectDescription" required>
                           <option value="">Select a defect</option>
                        </select>
                     </div>
                     <!-- Quantity Fields -->
                     <div class="form-group">
                        <label for="quantityReceived">Quantity Received:</label>
                        <input type="number" id="quantityReceived" name="QuantityReceived" required>
                     </div>
                     <div class="form-group">
                        <label for="quantityDefective">Quantity Defective:</label>
                        <input type="number" id="quantityDefective" name="QuantityDefective" required>
                     </div>
                     <!-- Is Non-Conformance -->
                     <div class="form-group">
                        <label for="isNonConformance">Is Non-Conformance:</label>
                        <input type="checkbox" id="isNonConformance" name="IsNonConformance">
                     </div>
                     <!-- Details -->
                     <div class="form-group">
                        <label for="details">Details:</label> <br/>
                        <textarea id="details" name="Details" rows="4" required></textarea>
                     </div>
                  </fieldset>
               </div>
               <div id="engiView" class="view" style="display: none;">
                  <fieldset>
                     <legend>Engineering</legend>
                     <!-- Review by CF Engineering -->
                     <div class="form-group">
                        <label>Review by CF Engineering:</label>
                        <input type="checkbox" id="useAsIs" name="useAsIs">
                        <label for="useAsIs">Use As Is</label>
                        <input type="checkbox" id="repair" name="repair">
                        <label for="repair">Repair</label>
                        <input type="checkbox" id="rework" name="rework">
                        <label for="rework">Rework</label>
                        <input type="checkbox" id="scrap" name="scrap">
                        <label for="scrap">Scrap</label>
                     </div>
                     <!-- Customer Notification -->
                     <div class="form-group">
                        <label>Does Customer require notification of NCR:</label>
                        <input type="radio" id="notifyTrue" name="notifyNCR" value="true">
                        <label for="notifyTrue">Yes</label>
                        <input type="radio" id="notifyFalse" name="notifyNCR" value="false">
                        <label for="notifyFalse">No</label>
                     </div>
                     <!-- Disposition -->
                     <div class="form-group">
                        <label for="dispoTxt">Disposition:</label> <br/>
                        <textarea id="dispoTxt" name="dispoTxt" rows="4" required></textarea>
                     </div>
                     <!-- Drawing Requires Updating -->
                     <div class="form-group">
                        <label for="drawUpdate">Does the drawing require updating:</label>
                        <input type="radio" id="updTrue" name="updDrawing" value="true">
                        <label for="updTrue">Yes</label>
                        <input type="radio" id="updFalse" name="updDrawing" value="false">
                        <label for="updFalse">No</label>
                     </div>
                     <div class="form-group">
                        <label for="oriRevNum">Original Rev. Number:</label>
                        <label id="oriRevNum" name="oriRevNum"></label>
                        <label for="updRevNum">Updated Rev. Number:</label>
                        <input type="text" id="updRevNum" name="updRevNum">
                     </div>
                     <div class="form-group">
                        <label for="engiName">Name of Engineer:</label>
                        <label id="engiName" name="engiName"></label>
                        <label for="revDate">Revision Date:</label>
                        <input type="date" id="revDate" name="revDate">
                     </div>
                  </fieldset>
               </div>
            </div>
            <!-- Submit Button -->
            <br/>
            <button type="submit">Create NCR</button>
         </form>
      </div>
      <script src="../public/scripts/createNCR.js"></script>
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
      <script>
         $(document).ready(function() {
             $('.js-example-basic-single').select2({
                 width: '300px', // Set the width of the dropdown
                 minimumResultsForSearch: 0 
             });
         });
      </script>
      
      <!--
         HTML: The select element is enhanced with the class="js-example-basic-single" to apply the Select2 functionality.
         CSS: The Select2 library’s CSS is included via a CDN link.
         JavaScript: jQuery and Select2 libraries are included via CDN links. The script initializes the Select2 plugin on the select element when the document is ready.
         HTML: The select element is divided into two optgroup elements. The first group, labeled “Popular Options,” contains the most popular items (Options 5, 10, and 11). 
         The second group, labeled “All Options,” contains all the options, including the popular ones for completeness.
         -->
   </body>
</html>