<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <title>Web Wizards</title>
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
   <script src="../public/scripts/tools.js"></script>
   <script src="../public/scripts/notification.js" type="module"></script>
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link href="../public/styles/style.css" rel="stylesheet">
   <script type="module">
      import * as crud from '../public/scripts/forms/crud.js';
      document.addEventListener('DOMContentLoaded', async () => {
         await fetchData();
         const productform = document.getElementById('productform');
         productform.addEventListener('submit', async (event) => {
            event.preventDefault();
            await crud.newProduct(document.getElementById('SupplierID'), document.getElementById('ProductName'), document.getElementById('ProductNumber'));
         });

         const userform = document.getElementById('userform');
         userform.addEventListener('submit', async (event) => {
            event.preventDefault();
            await crud.newUser(document.getElementById('FName'), document.getElementById('MName'), document.getElementById('LName'), document.getElementById('Email'), document.getElementById('Password'), document.getElementById('RoleID'));
         });

         const supplierform = document.getElementById('supplierform');
         supplierform.addEventListener('submit', async (event) => {
            event.preventDefault();
            await crud.newSupplier(document.getElementById('SupplierName'));
         });
      });
   </script>
   <!--  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" >
         <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>-->
</head>

<body>
   <!-- Nav Bar -->
   <header>
      <script src="https://kit.fontawesome.com/20313c72b7.js" crossorigin="anonymous"></script>

      <nav class="navbar navbar-dark bg-dark">
         <div class="container">
            <a href="index.html" class="navbar-brand" tabindex="1">
               <img src="../public/images/Crossfire_Logo_no_bkgd.png"
                  alt="A blue logo saying Crossfire with a flame in the middle">
            </a>
            <ul class="nav navbar-nav navbar-right">
               <li class="nav-item" tabindex="-1" data-toggle="tooltip" data-placement="bottom"
                  data-trigger="hover focus" title="Information">
                  <a href="info.html" tabindex="2" aria-label="Information">
                     <i class="fa-solid fa-circle-info"></i>
                  </a>
               </li>
               <li class="nav-item dropdown" style="width: 74px;" data-toggle="tooltip" title="Notifications"
                  tabindex="-1" data-trigger="hover focus" data-placement="bottom">
                  <a class="nav-link dropdown-toggle" href="#" id="notifDropdown" role="button" data-placement="bottom"
                     data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="position: relative;" tabindex="3" aria-label="notification">
                     <i class="fa-solid fa-bell"><span class="badge" id="unread-count"></span></i>

                  </a>
                  <div class="dropdown-menu notif-container" id="notification-content" aria-labelledby="notifDropdown">
                     <!-- Notification Content fills in here from notification.js-->
                     <div id="qlt-list" style="display: none;"></div>
                     <div id="eng-list" style="display: none;"></div>
                     <div id="pur-list" style="display: none;"></div>
                  </div>
               </li>
               <li class="nav-item dropdown" tabindex="-1">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                     aria-haspopup="true" aria-expanded="false" tabindex="4" aria-label="username">
                     <i class="fa-solid fa-user"></i> <span id="username"></span>
                  </a>
                  <div class="dropdown-menu" style="padding: 10px;" aria-labelledby="navbarDropdown">
                     <a class="dropdown-item" href="login.html" tabindex="5"><i class="fa-solid fa-right-from-bracket"></i>
                        Logout</a>
                  </div>
               </li>
            </ul>
         </div>
         <div class="alt-style">
            <div class="container">
               <ul class="nav navbar-nav">
                  <li class="active" tabindex="-1"><a href="index.html" tabindex="6">Dashboard</a></li>
                  <li id="li-create" style="display: none;" tabindex="-1"><a href="create.html" tabindex="7">Create NCR</a></li>
                  <li tabindex="-1"><a href="list.html" tabindex="8">NCR Logs</a></li>
                  <li id="li-tools" style="display: none;" tabindex="-1"><a href="tools.html" tabindex="9">Tools</a></li>
               </ul>
            </div>
         </div>
         <div class="container">
            <h1>Tools</h1>
         </div>
      </nav>
   </header>

   <!--Tools Container-->
   <div class="container-tools">
      <nav id="nav" class="tools">
         <div class="top">
            <ul>
               <li>
                  <a href="#" onclick="toggleSection('users')" style="display: block !important;">
                     <i class="fa-solid fa-user"></i>
                     Users
                  </a>
               </li>
            </ul>
            <ul>
               <li>
                  <a href="#" onclick="toggleSection('products')" style="display: block !important;">
                     <i class="fa-solid fa-box"></i>
                     Products
                  </a>
               </li>
            </ul>
            <ul>
               <li>
                  <a href="#" onclick="toggleSection('suppliers')" style="display: block !important;">
                     <i class="fa-solid fa-truck"></i>
                     Suppliers
                  </a>
               </li>
            </ul>
         </div>
      </nav>
      <!-- User Section -->
      <div>
         <section class="content-section tools" id="users">
            <div class="container tools">
               <form class="px-4" id="userform">
                  <fieldset>
                     <legend>Enter User Information</legend>
                     <div class="row g-3">
                        <div class="form-group col-md-6">
                              <input type="text" class="form-control" id="FName" name="FName" placeholder="First name" aria-label="First name">
                        </div>
                        <div class="form-group col-md-6">
                           <input type="email" class="form-control" id="Email" name="Email" placeholder="Email" aria-label="Email">
                        </div>
                     </div>
                     <div class="row g-3">
                        <div class="form-group col-md-6">
                           <input type="text" class="form-control" id="MName" name="MName" placeholder="Middle name"
                              aria-label="Middle name">
                        </div>
                        <div class="form-group col-md-6">
                           <input type="password" class="form-control" id="Password" name="Password" placeholder="Password"
                              aria-label="Password">
                        </div>
                     </div>
                     <div class="row g-3">
                        <div class="form-group col-md-6">
                           <input type="text"  class="form-control" id="LName" name="LName" placeholder="Last name" aria-label="Last name">
                        </div>
                        <div class="form-group col-md-6">
                           <select id="RoleID" class="form-control" name="RoleID">
                              <option value="" disabled selected>Select a role</option>
                           </select>
                        </div>
                     </div>
                     <div class="row g-3">
                        <div class="col-md-4"></div>
                        <div class="col-md-4"></div>
                        <div class="form-group col-md-4 ">
                           <button type="submit" class="yes">Add New User</button>
                        </div>
                     </div>
                  </fieldset>
               </form>
            </div>
         </section>
         <!--  Product Section -->
         <section class="content-section tools" id="products">
            <div class="container tools">
               <form class="px-4" id="productform">
                  <fieldset>
                     <legend>Enter Product Information</legend>
                     <div class="row g-3">
                        <div class="form-group col-md-4">
                           <select id="SupplierID" name="SupplierID">
                              <option value="" disabled selected>Select a supplier</option>
                           </select>
                        </div>
                        <div class="form-group col-md-4">
                           <input type="text" id="ProductName" name="ProductName" placeholder="Name"
                              aria-label="Product Name">
                        </div>
                        <div class="form-group col-md-4">
                           <input type="number" id="ProductNumber" name="Number" placeholder="Number" min="0"
                              aria-label="Product Number">
                        </div>
                        <div class="form-group col-md-12">
                           <button type="submit" class="yes">Add New Product</button>
                        </div>
                     </div>
                  </fieldset>
               </form>
            </div>
         </section>
         <!-- Supplier Section -->
         <section class="content-section tools" id="suppliers">
            <div class="container tools">
               <form class="px-4" id="supplierform">
                  <fieldset>
                     <legend>Enter Supplier Information</legend>
                     <div class="row g-3">
                        <div class="form-group col-md-4"></div>
                        <div class="form-group col-md-4">
                           <input type="text" id="SupplierName" name="SupplierName" placeholder="Name"
                              aria-label="Supplier Name">
                        </div>
                        <div class="form-group col-md-4"></div>
                        <div class="form-group col-md-12">
                           <button type="submit" class="yes">Add New Supplier</button>
                        </div>
                     </div>
                  </fieldset>
               </form>
            </div>
         </section>
      </div>
   </div>

   <div class="container">
      <footer>
         <p class="text-body-secondary">© 2024 Crossfire, Inc</p>
      </footer>
   </div>

   <script>
      function toggleSection(sectionId) {
         var sections = document.querySelectorAll('.content-section');
         sections.forEach(function (section) {
            if (section.id === sectionId) {
               section.style.display = section.style.display === 'none' ? 'block' : 'none';
            } else {
               section.style.display = 'none';
            }
         });
      }
   </script>
</body>

</html>